<% layout("layouts/boilerplate") %>
<div class="container mt-3">
    <h2>Final Order Details</h2>
    <% if (cart && cart.product.length > 0) { %>
        <div class="table-responsive">
            <table class="table table-bordered mt-3">
                <thead class="table-header">
                    <tr>
                        <th>Product Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                    </tr>
                </thead>
                <tbody>
                    <% let idx = 0; %>
                    <% for (let item of cart.product) { %>
                        <tr>
                            <td><%= item.name %></td>
                            <td>$<%= item.price.toFixed(2) %></td>
                            <td><%= cart.quantity[idx] %></td>
                            <% idx++; %>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
        
        <div class="total-amount mt-3">
            <h4>Total Amount: $<%= totalAmount.toFixed(2) %></h4>
        </div>
        
        <form action="/order/payment" method="POST">
            <input type="hidden" name="totalAmount" value="<%= totalAmount.toFixed(2) %>">
            <button type="submit" class="btn edit-btn mt-3">Proceed to Payment</button>
        </form>
    <% } else { %>
        <p>Your order is empty.</p>
    <% } %>
</div>
